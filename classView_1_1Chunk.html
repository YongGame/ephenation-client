<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Ephenation: View::Chunk Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ephenation.ico"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Ephenation
   </div>
   <div id="projectbrief">ClientforEphenation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceView.html">View</a></li><li class="navelem"><a class="el" href="classView_1_1Chunk.html">Chunk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classView_1_1Chunk-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">View::Chunk Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Definition of the <a class="el" href="namespaceView.html">View</a> side of a chunk.  
 <a href="classView_1_1Chunk.html#details">More...</a></p>

<p><code>#include &lt;chunk.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:add158da3c598f1913c71f1db74ebe194"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add158da3c598f1913c71f1db74ebe194"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>Uncompress</b> ()</td></tr>
<tr class="memitem:ab5d4277108a58774a8791549ab659d3c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5d4277108a58774a8791549ab659d3c"></a>
unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#ab5d4277108a58774a8791549ab659d3c">GetBlock</a> (int x, int y, int z) const </td></tr>
<tr class="memdesc:ab5d4277108a58774a8791549ab659d3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">x is east/west, y is north/south and z is height in a chunk. The content may change asynchorously. <br/></td></tr>
<tr class="memitem:ad973b111149c97bf4c60e81271f44b19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#ad973b111149c97bf4c60e81271f44b19">UpdateNeighborChunks</a> (void)</td></tr>
<tr class="memitem:a87ea4c7fc94c6929ab2b0dace8c1dac0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87ea4c7fc94c6929ab2b0dace8c1dac0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a87ea4c7fc94c6929ab2b0dace8c1dac0">UpdateGraphics</a> (void)</td></tr>
<tr class="memdesc:a87ea4c7fc94c6929ab2b0dace8c1dac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpret the binary chunk definition and transform it into graphical objects. OpenGL is done elsewhere. <br/></td></tr>
<tr class="memitem:a65ca252194abbff0621af588ae278026"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65ca252194abbff0621af588ae278026"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a65ca252194abbff0621af588ae278026">Draw</a> (<a class="el" href="classStageOneShader.html">StageOneShader</a> *shader, <a class="el" href="classChunkShaderPicking.html">ChunkShaderPicking</a> *pickShader, DL_Type dlType)</td></tr>
<tr class="memdesc:a65ca252194abbff0621af588ae278026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the chunk itself. <br/></td></tr>
<tr class="memitem:a6d83ab1f281dbc3b425ec8eea2d62966"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a6d83ab1f281dbc3b425ec8eea2d62966">DrawBoundingBox</a> (<a class="el" href="classStageOneShader.html">StageOneShader</a> *shader, int dx, int dy, int dz)</td></tr>
<tr class="memitem:a98a5798b74642a091c9d3dc837c45a55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a98a5798b74642a091c9d3dc837c45a55">DrawObjects</a> (<a class="el" href="classStageOneShader.html">StageOneShader</a> *shader, int dx, int dy, int dz, bool forShadows)</td></tr>
<tr class="memitem:ab30c1e160311fbf8717f8fd4922c62b6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab30c1e160311fbf8717f8fd4922c62b6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PrepareOpenGL</b> (<a class="el" href="classStageOneShader.html">StageOneShader</a> *shader, <a class="el" href="classChunkShaderPicking.html">ChunkShaderPicking</a> *pickShader, DL_Type dlType)</td></tr>
<tr class="memitem:a1f0cf762c88abd25cb4fe0ce55ce0eff"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f0cf762c88abd25cb4fe0ce55ce0eff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ReleaseOpenGLBuffers</b> (void)</td></tr>
<tr class="memitem:ab2667e0a0ad6b39039afe86be66287a8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2667e0a0ad6b39039afe86be66287a8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>SetDirty</b> (bool flag)</td></tr>
<tr class="memitem:a1504fc48931ff121b98911373a099fec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1504fc48931ff121b98911373a099fec"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>IsDirty</b> (void) const </td></tr>
<tr class="memitem:a61ccd32e2bc8ab989e7cfeb6c70095df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a61ccd32e2bc8ab989e7cfeb6c70095df"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a61ccd32e2bc8ab989e7cfeb6c70095df">PushTriangles</a> (shared_ptr&lt; const <a class="el" href="classView_1_1ChunkObject.html">ChunkObject</a> &gt;)</td></tr>
<tr class="memdesc:a61ccd32e2bc8ab989e7cfeb6c70095df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stash away the triangles to enable a quick restore, and use a new one list. <br/></td></tr>
<tr class="memitem:a1a421ac3a74be132a3d568ef96a7b8dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a421ac3a74be132a3d568ef96a7b8dc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a1a421ac3a74be132a3d568ef96a7b8dc">PopTriangles</a> (void)</td></tr>
<tr class="memdesc:a1a421ac3a74be132a3d568ef96a7b8dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore the pushed triangles. <br/></td></tr>
<tr class="memitem:ac0c702a17ab43d515f612d94d1e0af0c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac0c702a17ab43d515f612d94d1e0af0c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>InSunLight</b> (int ox, int oy, int oz) const </td></tr>
<tr class="memitem:ac34e1d197ee7439f8ae9cf346c6b4a69"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac34e1d197ee7439f8ae9cf346c6b4a69"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>ComputeAmbientLight</b> (int ox, int oy, int oz) const </td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3779a9fe95a2576eff5dc5351a41cd0e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3779a9fe95a2576eff5dc5351a41cd0e"></a>
static unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a3779a9fe95a2576eff5dc5351a41cd0e">GetChunkAndBlock</a> (signed long long x, signed long long y, signed long long z)</td></tr>
<tr class="memdesc:a3779a9fe95a2576eff5dc5351a41cd0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a coordinate, find the chunk at this place and the block in that chunk. <br/></td></tr>
<tr class="memitem:a5e802661ceec8b53856ba927d6754a12"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5e802661ceec8b53856ba927d6754a12"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a5e802661ceec8b53856ba927d6754a12">DegradeBusyList_gl</a> (void)</td></tr>
<tr class="memdesc:a5e802661ceec8b53856ba927d6754a12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unload all old chunks, and then move all chunks from the current busy list to the old busy list. <br/></td></tr>
<tr class="memitem:a2cf384c0e6bc7ad7efacb741fe4690f2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2cf384c0e6bc7ad7efacb741fe4690f2"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>MakeAllChunksDirty</b> (void)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a40b2b8d61412c800b448af67fb20db70"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40b2b8d61412c800b448af67fb20db70"></a>
<a class="el" href="structChunkCoord.html">ChunkCoord</a>&#160;</td><td class="memItemRight" valign="bottom"><b>cc</b></td></tr>
<tr class="memitem:af1fcb280f329d87f561f5dd73f1bb7f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1fcb280f329d87f561f5dd73f1bb7f1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>fScheduledForComputation</b></td></tr>
<tr class="memitem:ab76dbeb003af075598d6c7576dd5b31b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab76dbeb003af075598d6c7576dd5b31b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>fScheduledForLoading</b></td></tr>
<tr class="memitem:a6c9b5d88d8e723247e9cad13033a714a"><td class="memItemLeft" align="right" valign="top">shared_ptr&lt; const <a class="el" href="classView_1_1ChunkObject.html">ChunkObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a6c9b5d88d8e723247e9cad13033a714a">fChunkObject</a></td></tr>
<tr class="memitem:a82ae6b7de481618349f459f2401aeea8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82ae6b7de481618349f459f2401aeea8"></a>
shared_ptr&lt; <a class="el" href="classModel_1_1ChunkBlocks.html">Model::ChunkBlocks</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a82ae6b7de481618349f459f2401aeea8">fChunkBlocks</a></td></tr>
<tr class="memdesc:a82ae6b7de481618349f459f2401aeea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual blocks in the chunk. The content may change asynchronously, so it can't be a const. <br/></td></tr>
<tr class="memitem:a01f686a2538ae49812510103c37f68f6"><td class="memItemLeft" align="right" valign="top">GLuint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classView_1_1Chunk.html#a01f686a2538ae49812510103c37f68f6">fBufferId</a> [256]</td></tr>
<tr class="memitem:a2a3e8193c66eb350cc56dba9bbb21773"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a3e8193c66eb350cc56dba9bbb21773"></a>
GLuint&#160;</td><td class="memItemRight" valign="bottom"><b>fVao</b> [256]</td></tr>
<tr class="memitem:a574e95d7bcc9d96a98e428489da8490f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a574e95d7bcc9d96a98e428489da8490f"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>fBuffersDefined</b></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Definition of the <a class="el" href="namespaceView.html">View</a> side of a chunk. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>This started as a struct for data, but methods were added. The public data should be made private. </dd></dl>
</div><h2>Member Function Documentation</h2>
<a class="anchor" id="a6d83ab1f281dbc3b425ec8eea2d62966"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Chunk::DrawBoundingBox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classStageOneShader.html">StageOneShader</a> *&#160;</td>
          <td class="paramname"><em>shader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Draw a bounding box for a chunk. Note, 'this' pointer can be zero, in which case a rough approximation has to be used for the bounding box. </p>

</div>
</div>
<a class="anchor" id="a98a5798b74642a091c9d3dc837c45a55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Chunk::DrawObjects </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classStageOneShader.html">StageOneShader</a> *&#160;</td>
          <td class="paramname"><em>shader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forShadows</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Draw all objects in the chunk. If 'forShadows' is true, skip doing things that shall not be used in the shadow map. dx, dy and dz is the relative distance to the player chunk. </p>

</div>
</div>
<a class="anchor" id="ad973b111149c97bf4c60e81271f44b19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Chunk::UpdateNeighborChunks </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The outer graphical presentation of a chunk depends on the neighbor chunk blocks. This function will tell all near chunk to update. </p>

</div>
</div>
<h2>Member Data Documentation</h2>
<a class="anchor" id="a01f686a2538ae49812510103c37f68f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GLuint View::Chunk::fBufferId[256]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>OpenGL data. One Vertex Array Object for each block type. Usually, only a limited num ber of the block types are needed. </p>

</div>
</div>
<a class="anchor" id="a6c9b5d88d8e723247e9cad13033a714a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt;const <a class="el" href="classView_1_1ChunkObject.html">ChunkObject</a>&gt; View::Chunk::fChunkObject</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Information about graphical objects. The referenced object is a 'const', as the content must not change asynchronosuly. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>chunk.h</li>
<li>chunk.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
